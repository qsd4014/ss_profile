# Shadowrocket Configuration
# åŸºäºclash.iniä¼˜åŒ–ï¼Œä¸“ä¸ºiOSå¹³å°è®¾è®¡
# æ›´æ–°æ—¶é—´: 2025-09-29
# ä¿æŒä¸clash.iniä¸€è‡´çš„åˆ†æµé€»è¾‘å’Œé«˜å€æµé‡è¿‡æ»¤

[General]
# ==== åŸºç¡€ç½‘ç»œè®¾ç½® ====
bypass-system = true
skip-proxy = 192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,localhost,*.local,captive.apple.com,*.ccb.com
tun-excluded-routes = 10.0.0.0/8,100.64.0.0/10,127.0.0.0/8,169.254.0.0/16,172.16.0.0/12,192.0.0.0/24,192.0.2.0/24,192.88.99.0/24,192.168.0.0/16,198.18.0.0/15,198.51.100.0/24,203.0.113.0/24,224.0.0.0/4,255.255.255.255/32

# ==== DNSé˜²æ³„æ¼é…ç½® ====
dns-server = 223.5.5.5,114.114.114.114,8.8.8.8,1.1.1.1
fallback-dns-server = system
hijack-dns = 8.8.8.8:53,8.8.4.4:53,1.1.1.1:53,1.0.0.1:53
dns-fallback-system = false
dns-direct-system = false
dns-direct-fallback-proxy = true

# ==== ç½‘ç»œä¼˜åŒ–è®¾ç½® ====
ipv6 = true
prefer-ipv6 = false
icmp-auto-reply = true
always-reject-url-rewrite = false
private-ip-answer = true
update-url = https://raw.githubusercontent.com/qsd4014/ss_profile/main/shadowrocket.conf

# ==== æ€§èƒ½ä¼˜åŒ– ====
test-timeout = 3
fast-switch = true

[Proxy Group]
# ==== ä¸»è¦ç­–ç•¥ç»„ ====
# å¯¹åº”clash.iniçš„ğŸš€ èŠ‚ç‚¹é€‰æ‹©
Proxy = select,Auto,Low-Rate,Public-Welfare,Manual-Select,Manual-Select-Backup,Self-Built,Fallback,Load-Balance,Hong-Kong,Taiwan,Singapore,Japan,United-States,Korea,DIRECT

# ==== æ‰‹åŠ¨é€‰æ‹©ç»„ ====
# å¯¹åº”clash.iniçš„âœˆï¸ æ‰‹åŠ¨é€‰æ‹©å’ŒğŸ›©ï¸ æ‰‹åŠ¨é€‰æ‹©å¤‡ç”¨
Manual-Select = select,policy-regex-filter=.*
Manual-Select-Backup = select,policy-regex-filter=.*

# ==== åœ°åŒºèŠ‚ç‚¹ç»„ï¼ˆå±è”½é«˜å€æµé‡èŠ‚ç‚¹ï¼‰====
# ä½¿ç”¨æ­£åˆ™è¿‡æ»¤å¤§äº1Xçš„æ‰€æœ‰å€æ•°èŠ‚ç‚¹
Hong-Kong = url-test,policy-regex-filter=^(?!.*(ç”µä¿¡|è”é€š|ç§»åŠ¨|å››å·|å¹¿è¥¿|([2-9]|[1-9][0-9]+)X|HOME)).*((?i)é¦™æ¸¯|æ¸¯|HK|Hong.?Kong).*$,url=http://www.gstatic.com/generate_204,interval=300,tolerance=50

Taiwan = url-test,policy-regex-filter=^(?!.*(ç”µä¿¡|è”é€š|ç§»åŠ¨|å››å·|å¹¿è¥¿|([2-9]|[1-9][0-9]+)X|HOME)).*((?i)å°|å°æ¹¾|æ–°åŒ—|å½°åŒ–|TW|Taiwan).*$,url=http://www.gstatic.com/generate_204,interval=300,tolerance=50

Singapore = url-test,policy-regex-filter=^(?!.*(ç”µä¿¡|è”é€š|ç§»åŠ¨|å››å·|å¹¿è¥¿|([2-9]|[1-9][0-9]+)X|HOME)).*((?i)æ–°åŠ å¡|å¡|ç‹®åŸ|SG|Singapore).*$,url=http://www.gstatic.com/generate_204,interval=300,tolerance=50

Japan = url-test,policy-regex-filter=^(?!.*(ç”µä¿¡|è”é€š|ç§»åŠ¨|å››å·|å¹¿è¥¿|([2-9]|[1-9][0-9]+)X|HOME)).*((?i)æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|[^-]æ—¥|JP|Japan).*$,url=http://www.gstatic.com/generate_204,interval=300,tolerance=50

United-States = select,policy-regex-filter=^(?!.*(ç”µä¿¡|è”é€š|ç§»åŠ¨|å››å·|å¹¿è¥¿|([2-9]|[1-9][0-9]+)X|HOME)).*((?i)ç¾|ç¾å›½|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|US|United.?States|usa).*$,url=http://www.gstatic.com/generate_204,interval=300,tolerance=150

Korea = url-test,policy-regex-filter=^(?!.*(ç”µä¿¡|è”é€š|ç§»åŠ¨|å››å·|å¹¿è¥¿|([2-9]|[1-9][0-9]+)X|HOME)).*((?i)KR|Korea|KOR|é¦–å°”|éŸ©|éŸ“).*$,url=http://www.gstatic.com/generate_204,interval=300,tolerance=50

# ==== ç‰¹æ®ŠèŠ‚ç‚¹ç»„ ====
# å¯¹åº”clash.iniçš„0.Xåˆ†ç»„ï¼Œä½å€æµé‡çº¿è·¯
Low-Rate = select,policy-regex-filter=^(?=.*((?i)0\\.[0-9]+|ç›´è¿|ä¸‹è½½|download))(?!.*(([2-9]|[1-9][0-9]+)X|HOME)).*$

# å¯¹åº”clash.iniçš„ğŸ†“ å…¬ç›Š
Public-Welfare = url-test,policy-regex-filter=^(?!.*(ç”µä¿¡|è”é€š|ç§»åŠ¨|å››å·|å¹¿è¥¿|([2-9]|[1-9][0-9]+)X|HOME)).*((?i)Hax|hax|VC|Vc|vc|buyvm|BuyVM|BUYVM|é¸¡|Woiden|woiden|Euserv|Optimization|Akari|FREE|Oracle|oracle|Vult|advins|CF).*$,url=http://www.gstatic.com/generate_204,interval=300,tolerance=50

# å¯¹åº”clash.iniçš„ğŸš è‡ªå»ºèŠ‚ç‚¹
Self-Built = select,policy-regex-filter=((?i)è‡ªå»º|Oracle|oracle)

# å¯¹åº”clash.iniçš„â™»ï¸ è‡ªåŠ¨é€‰æ‹©ï¼ˆå±è”½é«˜å€æµé‡ï¼‰
Auto = url-test,policy-regex-filter=^(?!.*(ç”µä¿¡|è”é€š|ç§»åŠ¨|å››å·|å¹¿è¥¿|([2-9]|[1-9][0-9]+)X|HOME)).*$,url=http://www.gstatic.com/generate_204,interval=300,tolerance=50

# å¯¹åº”clash.iniçš„ğŸ”¯ æ•…éšœè½¬ç§»ï¼ˆå±è”½é«˜å€æµé‡ï¼‰
Fallback = fallback,policy-regex-filter=^(?!.*(ç”µä¿¡|è”é€š|ç§»åŠ¨|å››å·|å¹¿è¥¿|([2-9]|[1-9][0-9]+)X|HOME)).*$,url=http://www.gstatic.com/generate_204,interval=300,tolerance=50

# å¯¹åº”clash.iniçš„ğŸ”® è´Ÿè½½å‡è¡¡
Load-Balance = load-balance,policy-regex-filter=((?i)è‡ªå»º|Oracle|oracle),url=http://www.gstatic.com/generate_204,interval=300,tolerance=50

# ==== AIæœåŠ¡ç­–ç•¥ç»„ ====
# å¯¹åº”clash.iniçš„ğŸŒ OpenAIå’ŒCleanIP
OpenAI = select,United-States,Singapore,Japan,Manual-Select,policy-regex-filter=.*
CleanIP = select,United-States,Singapore,Manual-Select,policy-regex-filter=.*

# ==== æµåª’ä½“ç­–ç•¥ç»„ ====
# å¯¹åº”clash.iniçš„ğŸ“¹ æ²¹ç®¡è§†é¢‘
YouTube = select,Public-Welfare,Proxy,Manual-Select,Manual-Select-Backup,Self-Built,Auto,Singapore,Hong-Kong,Taiwan,Japan,United-States,Korea,DIRECT

# å¯¹åº”clash.iniçš„ğŸ¥ å¥ˆé£è§†é¢‘ï¼ˆåªåŒ…å«å¤§åŒºåŸŸèŠ‚ç‚¹ï¼‰
Netflix = select,policy-regex-filter=^(?!.*(ç”µä¿¡|è”é€š|ç§»åŠ¨|å››å·|å¹¿è¥¿|([2-9]|[1-9][0-9]+)X|HOME)).*((?i)æ–°åŠ å¡|å¡|ç‹®åŸ|SG|Singapore|ç¾|ç¾å›½|US|us|é¦™æ¸¯|æ¸¯|HK|Hong.?Kong|å°|å°æ¹¾|TW|Taiwan).*$

# å¯¹åº”clash.iniçš„ğŸ¹ DisneyPlus
DisneyPlus = select,policy-regex-filter=^(?!.*(ç”µä¿¡|è”é€š|ç§»åŠ¨|å››å·|å¹¿è¥¿|([2-9]|[1-9][0-9]+)X|HOME)).*((?i)æ–°åŠ å¡|å¡|ç‹®åŸ|SG|Singapore|ç¾|ç¾å›½|US|us|é¦™æ¸¯|æ¸¯|HK|Hong.?Kong|å°|å°æ¹¾|TW|Taiwan).*$

# å¯¹åº”clash.iniçš„ğŸ¦ HBO
HBO = select,United-States,Manual-Select,Manual-Select-Backup,Self-Built

# å¯¹åº”clash.iniçš„ğŸ¦ PrimeVideo
PrimeVideo = select,United-States,Manual-Select,Manual-Select-Backup,Self-Built

# å¯¹åº”clash.iniçš„ğŸ AppleTV
AppleTV = select,DIRECT,Manual-Select,Manual-Select-Backup,Self-Built

# ==== EMBYæœåŠ¡ ====
# å¯¹åº”clash.iniçš„ğŸ¬ EMBY_proxyå’ŒEMBY_direct
EMBY-Proxy = select,Public-Welfare,Low-Rate,Self-Built,Load-Balance,DIRECT,Proxy,Manual-Select,Manual-Select-Backup
EMBY-Direct = select,DIRECT,Public-Welfare,Low-Rate,Self-Built,Proxy,Manual-Select,Manual-Select-Backup

# ==== é€šè®¯æœåŠ¡ ====
# å¯¹åº”clash.iniçš„ğŸ“² ç”µæŠ¥æ¶ˆæ¯
Telegram = select,Proxy,Auto,Manual-Select,Manual-Select-Backup,Self-Built,Singapore,Hong-Kong,Taiwan,Japan,United-States,Korea,DIRECT

# ==== ç§‘æŠ€æœåŠ¡ ====
# å¯¹åº”clash.iniçš„è°·æ­Œç³»åˆ—
Google = select,United-States,Manual-Select,Manual-Select-Backup,Self-Built,Hong-Kong,Taiwan,Singapore,Japan,Korea
GoogleFCM = select,DIRECT,Manual-Select,Manual-Select-Backup,Self-Built,United-States,Hong-Kong,Taiwan,Singapore,Japan,Korea

# å¯¹åº”clash.iniçš„å¾®è½¯ç³»åˆ—
Bing = select,United-States,DIRECT,Proxy,Manual-Select,Manual-Select-Backup,Self-Built,Hong-Kong,Taiwan,Singapore,Japan,Korea
OneDrive = select,DIRECT,Proxy,Manual-Select,Manual-Select-Backup,Self-Built,United-States,Hong-Kong,Taiwan,Singapore,Japan,Korea
Microsoft = select,DIRECT,Proxy,Manual-Select,Manual-Select-Backup,Self-Built,United-States,Hong-Kong,Taiwan,Singapore,Japan,Korea

# å¯¹åº”clash.iniçš„ğŸ è‹¹æœæœåŠ¡
Apple = select,DIRECT,Proxy,Manual-Select,Manual-Select-Backup,Self-Built,United-States,Hong-Kong,Taiwan,Singapore,Japan,Korea

# ==== å¨±ä¹æœåŠ¡ ====
# å¯¹åº”clash.iniçš„ğŸ® æ¸¸æˆå¹³å°
Gaming = select,DIRECT,Proxy,Manual-Select,Manual-Select-Backup,Self-Built,United-States,Hong-Kong,Taiwan,Singapore,Japan,Korea

# å¯¹åº”clash.iniçš„ğŸ“º å“”å“©å“”å“©
Bilibili = select,Global-Direct,Taiwan,Hong-Kong

# ==== åª’ä½“åˆ†ç±» ====
# å¯¹åº”clash.iniçš„ğŸŒ å›½å¤–åª’ä½“
GlobalMedia = select,Proxy,Auto,Manual-Select,Manual-Select-Backup,Self-Built,Hong-Kong,Taiwan,Singapore,Japan,United-States,Korea,DIRECT

# å¯¹åº”clash.iniçš„ğŸŒ å›½å†…åª’ä½“
DomesticMedia = select,DIRECT,Proxy,Manual-Select,Manual-Select-Backup,Self-Built,Hong-Kong,Taiwan,Singapore,Japan

# ==== ç³»ç»Ÿç­–ç•¥ç»„ ====
# å¯¹åº”clash.iniçš„ğŸ¯ å…¨çƒç›´è¿
Global-Direct = select,DIRECT,Auto

# å¯¹åº”clash.iniçš„ğŸ›‘ å¹¿å‘Šæ‹¦æˆªå’ŒğŸƒ åº”ç”¨å‡€åŒ–
Ad-Block = select,REJECT,DIRECT
App-Purify = select,REJECT,DIRECT

# å¯¹åº”clash.iniçš„ğŸŸ æ¼ç½‘ä¹‹é±¼
Final = select,Proxy,Manual-Select,Manual-Select-Backup,Self-Built,Auto,DIRECT,Hong-Kong,Taiwan,Singapore,Japan,United-States,Korea

[Rule]
# ==== å±€åŸŸç½‘ç›´è¿ ====
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/LocalAreaNetwork.list,Global-Direct
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/UnBan.list,Global-Direct

# ==== å¹¿å‘Šæ‹¦æˆª ====
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanAD.list,Ad-Block
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanProgramAD.list,App-Purify

# ==== AIæœåŠ¡ ====
RULE-SET,https://raw.githubusercontent.com/qsd4014/ss_profile/main/Rules/openAI.list,OpenAI
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/OpenAI/OpenAI.list,OpenAI
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Claude/Claude.list,OpenAI
RULE-SET,https://raw.githubusercontent.com/qsd4014/ss_profile/refs/heads/main/Rules/CleanIP.list,CleanIP

# ==== æµåª’ä½“æœåŠ¡ ====
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/YouTube.list,YouTube
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Netflix/Netflix.list,Netflix
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/AmazonIp.list,Netflix
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Disney/Disney.list,DisneyPlus
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/HBO/HBO.list,HBO
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/HBOUSA/HBOUSA.list,HBO
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/AmazonPrimeVideo/AmazonPrimeVideo.list,PrimeVideo
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/AppleTV/AppleTV.list,AppleTV

# ==== è°·æ­ŒæœåŠ¡ ====
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/GoogleFCM.list,GoogleFCM
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Google.list,Google

# ==== å›½å†…è°·æ­ŒæœåŠ¡ç›´è¿ ====
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/GoogleCN.list,Global-Direct
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/SteamCN.list,Global-Direct

# ==== å¾®è½¯æœåŠ¡ ====
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Bing/Bing.list,Bing
RULE-SET,https://raw.githubusercontent.com/ender-zhao/Clash-for-Windows_Rule/main/Rule/Bing,Bing
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/OneDrive.list,OneDrive
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Microsoft.list,Microsoft

# ==== è‹¹æœæœåŠ¡ ====
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Apple.list,Apple

# ==== ç”µæŠ¥ ====
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Telegram.list,Telegram

# ==== æ¸¸æˆå¹³å° ====
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Epic.list,Gaming
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Sony.list,Gaming
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Steam.list,Gaming
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Nintendo.list,Gaming

# ==== EMBYæœåŠ¡ ====
RULE-SET,https://raw.githubusercontent.com/qsd4014/ss_profile/main/Rules/Emby_proxy.list,EMBY-Proxy
RULE-SET,https://raw.githubusercontent.com/qsd4014/ss_profile/main/Rules/Emby_direct.list,EMBY-Direct

# ==== å“”å“©å“”å“© ====
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/BilibiliHMT.list,Bilibili
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Bilibili.list,Bilibili

# ==== å›½å†…å¤–åª’ä½“ ====
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaMedia.list,DomesticMedia
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyMedia.list,GlobalMedia

# ==== ä»£ç†è§„åˆ™ ====
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyGFWlist.list,Proxy

# ==== ç›´è¿è§„åˆ™ ====
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaDomain.list,Global-Direct
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaCompanyIp.list,Global-Direct
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Download.list,Global-Direct
RULE-SET,https://raw.githubusercontent.com/qsd4014/ss_profile/main/Rules/Custom_direct.list,Global-Direct

# ==== åœ°ç†ä½ç½®è§„åˆ™ ====
GEOIP,CN,Global-Direct
FINAL,Final

[Host]
localhost = 127.0.0.1

[URL Rewrite]
# ==== Googleæœç´¢é‡å®šå‘ ====
^https?://(www\.)?g\.cn https://www.google.com 302
^https?://(www\.)?google\.cn https://www.google.com 302

# ==== ç§»é™¤éƒ¨åˆ†åº”ç”¨çš„å¹¿å‘Š ====
^https?://m\.douban\.com/movie/subject/.+\?seen=\d+ https://m.douban.com/movie/subject/$1 302

[Script]
# å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ è„šæœ¬è§„åˆ™
# ä¾‹å¦‚ï¼šç­¾åˆ°è„šæœ¬ã€é‡å†™è„šæœ¬ç­‰

[MITM]
# ==== HTTPSè§£å¯†é…ç½® ====
enable = false
hostname = 
ca-passphrase = 
ca-p12 = 

# ==== é…ç½®è¯´æ˜ ====
# 1. æœ¬é…ç½®åŸºäºclash.iniè½¬æ¢ï¼Œä¿æŒåˆ†æµè§„åˆ™é€»è¾‘ä¸€è‡´
# 2. ä¸“ä¸ºiOSå¹³å°Shadowrocketä¼˜åŒ–ï¼Œæ”¯æŒæ‰€æœ‰åŠŸèƒ½
# 3. å±è”½é«˜å€æµé‡èŠ‚ç‚¹ï¼ˆå¤§äº1Xçš„æ‰€æœ‰å€æ•°ï¼‰
# 4. æ”¯æŒä½å€æµé‡çº¿è·¯ä¼˜é€‰ï¼ˆ0.*Xã€ç›´è¿ã€ä¸‹è½½ç­‰ï¼‰
# 5. é›†æˆiOSæœ€ä½³å®è·µï¼šDNSä¼˜åŒ–ã€ç½‘ç»œåŠ é€Ÿã€æ™ºèƒ½åˆ†æµ
# 6. æ”¯æŒä¸€é”®æ›´æ–°ï¼Œä¿æŒé…ç½®æœ€æ–°çŠ¶æ€